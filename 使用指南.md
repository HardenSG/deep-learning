# ğŸš€ Aè‚¡é‡åŒ–æ·±åº¦å­¦ä¹ ç³»ç»Ÿ - ä½¿ç”¨æŒ‡å—

## ğŸ“‹ ç›®å½•
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [æ ¸å¿ƒåŠŸèƒ½](#æ ¸å¿ƒåŠŸèƒ½)
- [å¸¸ç”¨å‘½ä»¤](#å¸¸ç”¨å‘½ä»¤)
- [APIä½¿ç”¨](#apiä½¿ç”¨)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)

---

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### 1. è®­ç»ƒå•åªè‚¡ç¥¨
```bash
F:\sofaWare\PYTHON\python.exe train.py --stock_code 600118 --collect_data
```

### 2. æ‰¹é‡è®­ç»ƒå¤šåªè‚¡ç¥¨
```bash
F:\sofaWare\PYTHON\python.exe batch_train.py
```

### 3. é¢„æµ‹å•åªè‚¡ç¥¨
```bash
F:\sofaWare\PYTHON\python.exe predict_single.py
```

### 4. å¯åŠ¨APIæœåŠ¡
```bash
F:\sofaWare\PYTHON\python.exe -m uvicorn src.api.main:app --host 0.0.0.0 --port 8000
```

---

## ğŸ’¡ æ ¸å¿ƒåŠŸèƒ½

### âœ… å·²å®ç°åŠŸèƒ½

1. **æ•°æ®é‡‡é›†** - è‡ªåŠ¨ä»AKShareè·å–Aè‚¡æ•°æ®
2. **ç‰¹å¾å·¥ç¨‹** - 40+æŠ€æœ¯æŒ‡æ ‡è‡ªåŠ¨è®¡ç®—
3. **LSTMæ¨¡å‹** - æ·±åº¦å­¦ä¹ æ—¶åºé¢„æµ‹
4. **å¢å¼ºé¢„æµ‹** - ä¸Šæ¶¨/ä¸‹è·Œæ¦‚ç‡ + ä¹°å…¥å»ºè®®
5. **æ‰¹é‡è®­ç»ƒ** - ä¸€é”®è®­ç»ƒå¤šåªè‚¡ç¥¨
6. **RESTful API** - å®Œæ•´çš„Web APIæ¥å£
7. **é£é™©è¯„ä¼°** - è‡ªåŠ¨è¯„ä¼°æŠ•èµ„é£é™©

### ğŸ“Š é¢„æµ‹è¾“å‡ºç¤ºä¾‹

```
è‚¡ç¥¨: 600118
å½“å‰ä»·æ ¼: Â¥99.45
é¢„æµ‹ä»·æ ¼: Â¥99.40 (-0.05%)
============================================================
ä¸Šæ¶¨æ¦‚ç‡: 48.7%
ä¸‹è·Œæ¦‚ç‡: 51.3%
ç½®ä¿¡åº¦: ä½
============================================================
ğŸ’¡ è§‚æœ›
   æ¶¨è·Œæ¦‚ç‡æ¥è¿‘ï¼Œå¸‚åœºæ–¹å‘ä¸æ˜ç¡®
   é£é™©: é«˜
============================================================
```

---

## ğŸ“ å¸¸ç”¨å‘½ä»¤

### è®­ç»ƒç›¸å…³

#### è®­ç»ƒå•åªè‚¡ç¥¨ï¼ˆè‡ªåŠ¨é‡‡é›†æ•°æ®ï¼‰
```bash
F:\sofaWare\PYTHON\python.exe train.py --stock_code 600118 --collect_data
```

#### è®­ç»ƒå•åªè‚¡ç¥¨ï¼ˆä½¿ç”¨å·²æœ‰æ•°æ®ï¼‰
```bash
F:\sofaWare\PYTHON\python.exe train.py --stock_code 600118
```

#### æ‰¹é‡è®­ç»ƒï¼ˆä¿®æ”¹batch_train.pyä¸­çš„è‚¡ç¥¨åˆ—è¡¨ï¼‰
```bash
F:\sofaWare\PYTHON\python.exe batch_train.py
```

### é¢„æµ‹ç›¸å…³

#### é¢„æµ‹å•åªè‚¡ç¥¨ï¼ˆä¿®æ”¹predict_single.pyä¸­çš„è‚¡ç¥¨ä»£ç ï¼‰
```bash
F:\sofaWare\PYTHON\python.exe predict_single.py
```

#### ä½¿ç”¨APIé¢„æµ‹
```bash
# å…ˆå¯åŠ¨APIæœåŠ¡
F:\sofaWare\PYTHON\python.exe -m uvicorn src.api.main:app --host 0.0.0.0 --port 8000

# ç„¶åè°ƒç”¨API
curl -X POST "http://localhost:8000/api/predict" \
  -H "Content-Type: application/json" \
  -d '{"stock_code": "600118", "days": 5}'
```

### æ•°æ®é‡‡é›†

#### é‡‡é›†å•åªè‚¡ç¥¨æ•°æ®
```bash
F:\sofaWare\PYTHON\python.exe scripts/collect_data.py --stock_code 600118
```

#### æ‰¹é‡é‡‡é›†æ•°æ®
```bash
F:\sofaWare\PYTHON\python.exe scripts/collect_data.py --batch
```

---

## ğŸŒ APIä½¿ç”¨

### å¯åŠ¨APIæœåŠ¡
```bash
F:\sofaWare\PYTHON\python.exe -m uvicorn src.api.main:app --host 0.0.0.0 --port 8000
```

### APIç«¯ç‚¹

#### 1. å¥åº·æ£€æŸ¥
```bash
GET http://localhost:8000/
```

#### 2. è·å–è‚¡ç¥¨åˆ—è¡¨
```bash
GET http://localhost:8000/api/stocks
```

#### 3. è·å–è‚¡ç¥¨æ•°æ®
```bash
GET http://localhost:8000/api/data/600118?limit=100
```

#### 4. é¢„æµ‹è‚¡ç¥¨ï¼ˆå¢å¼ºç‰ˆï¼‰
```bash
POST http://localhost:8000/api/predict
Content-Type: application/json

{
  "stock_code": "600118",
  "days": 5
}
```

**è¿”å›ç¤ºä¾‹ï¼š**
```json
{
  "stock_code": "600118",
  "prediction": -0.0005,
  "direction": "ä¸‹è·Œ",
  "confidence": {
    "current_price": 99.45,
    "predicted_price": 99.40,
    "price_change": -0.05,
    "price_change_pct": -0.05,
    "up_probability": 48.66,
    "down_probability": 51.34,
    "confidence_level": "ä½",
    "recommendation": {
      "action": "è§‚æœ›",
      "reason": "æ¶¨è·Œæ¦‚ç‡æ¥è¿‘ï¼Œå¸‚åœºæ–¹å‘ä¸æ˜ç¡®",
      "risk_level": "é«˜",
      "confidence": "ä½"
    }
  }
}
```

### Pythonè°ƒç”¨ç¤ºä¾‹

```python
import requests

# é¢„æµ‹è‚¡ç¥¨
response = requests.post(
    "http://localhost:8000/api/predict",
    json={"stock_code": "600118", "days": 5}
)

result = response.json()
print(f"æ“ä½œå»ºè®®: {result['confidence']['recommendation']['action']}")
print(f"ä¸Šæ¶¨æ¦‚ç‡: {result['confidence']['up_probability']:.2f}%")
print(f"é£é™©ç­‰çº§: {result['confidence']['recommendation']['risk_level']}")
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
é‡‘èé‡åŒ–/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ config.yaml                 # é…ç½®æ–‡ä»¶
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ models/                     # è®­ç»ƒå¥½çš„æ¨¡å‹ï¼ˆ.pth + .pklï¼‰
â”‚   â””â”€â”€ stock_data.db              # SQLiteæ•°æ®åº“
â”œâ”€â”€ examples/
â”‚   â”œâ”€â”€ api_client.py              # APIå®¢æˆ·ç«¯ç¤ºä¾‹
â”‚   â””â”€â”€ quick_start.py             # å¿«é€Ÿå¼€å§‹ç¤ºä¾‹
â”œâ”€â”€ logs/                          # æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ collect_data.py            # æ•°æ®é‡‡é›†è„šæœ¬
â”œâ”€â”€ src/                           # æºä»£ç 
â”‚   â”œâ”€â”€ api/                       # FastAPIæ¥å£
â”‚   â”‚   â””â”€â”€ main.py
â”‚   â”œâ”€â”€ data_collector/            # æ•°æ®é‡‡é›†
â”‚   â”‚   â”œâ”€â”€ stock_data.py
â”‚   â”‚   â””â”€â”€ scheduler.py
â”‚   â”œâ”€â”€ feature_engineering/       # ç‰¹å¾å·¥ç¨‹
â”‚   â”‚   â”œâ”€â”€ feature_builder.py
â”‚   â”‚   â””â”€â”€ technical_indicators.py
â”‚   â”œâ”€â”€ models/                    # æ¨¡å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ lstm_model.py
â”‚   â”‚   â”œâ”€â”€ trainer.py
â”‚   â”‚   â”œâ”€â”€ predictor.py
â”‚   â”‚   â””â”€â”€ enhanced_predictor.py  # å¢å¼ºé¢„æµ‹å™¨
â”‚   â””â”€â”€ utils/                     # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ config.py
â”‚       â”œâ”€â”€ database.py
â”‚       â””â”€â”€ logger.py
â”œâ”€â”€ batch_train.py                 # æ‰¹é‡è®­ç»ƒè„šæœ¬ â­
â”œâ”€â”€ predict_single.py              # å•è‚¡ç¥¨é¢„æµ‹ â­
â”œâ”€â”€ train.py                       # å•è‚¡ç¥¨è®­ç»ƒ â­
â””â”€â”€ requirements.txt               # ä¾èµ–åˆ—è¡¨
```

---

## ğŸ“ å­¦ä¹ èµ„æº

### æ–‡æ¡£
- **README.md** - é¡¹ç›®æ€»è§ˆ
- **QUICK_START.md** - å¿«é€Ÿå¼€å§‹
- **PROJECT_SUMMARY.md** - é¡¹ç›®æ€»ç»“
- **æ·±åº¦å­¦ä¹ é‡åŒ–äº¤æ˜“å…¥é—¨æŒ‡å—.md** - è¯¦ç»†æ•™ç¨‹

### ç¤ºä¾‹ä»£ç 
- **examples/quick_start.py** - å®Œæ•´æµç¨‹ç¤ºä¾‹
- **examples/api_client.py** - APIè°ƒç”¨ç¤ºä¾‹

---

## âš™ï¸ é…ç½®è¯´æ˜

### ä¿®æ”¹é…ç½®æ–‡ä»¶
ç¼–è¾‘ `config/config.yaml`:

```yaml
# æ•°æ®é…ç½®
data:
  database_path: "data/stock_data.db"
  stock_list: ["600118", "000001"]  # æ‰¹é‡è®­ç»ƒçš„è‚¡ç¥¨åˆ—è¡¨

# æ¨¡å‹é…ç½®
model:
  lstm:
    hidden_size: 128
    num_layers: 2
    dropout: 0.2
  training:
    epochs: 100
    batch_size: 32
    learning_rate: 0.001

# ç‰¹å¾é…ç½®
features:
  window_size: 60
  normalization: "minmax"
```

---

## ğŸ”§ å¸¸è§é—®é¢˜

### 1. è®­ç»ƒæ—¶é—´å¤ªé•¿ï¼Ÿ
- å‡å°‘epochsï¼ˆé»˜è®¤100ï¼‰onfig.yamln- ä½¿ç”¨GPUï¼ˆä¿®æ”¹ä¸­çš„deviceä¸ºcudaï¼‰

### 2. å‡†ç¡®ï¼Ÿ
- å¢åŠ è®­ç»ƒæ•°æ®é‡
- è°ƒæ•´æ¨¡å‹å‚æ•°ï¼ˆhidden_size, num_layeé¢„æµ‹ä¸rsï¼‰
- å¢åŠ ç‰¹å¾æ•°é‡

### 3. APIæ— æ³•è®¿é—®ï¼Ÿ
- æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
- ç¡®è®¤é˜²ç«å¢™è®¾ç½®
- ä½¿ç”¨ `http://localhost:8000/docs` æŸ¥çœ‹APIæ–‡æ¡£

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- æŸ¥çœ‹æ—¥å¿—: `logs/quant_system.log`
- æŸ¥çœ‹è®­ç»ƒæ—¥å¿—: `logs/batch_train_*.log`
- æŸ¥çœ‹APIæ–‡æ¡£: `http://localhost:8000/docs`

---

## ğŸ‰ å¿«é€Ÿå‚è€ƒ

### æœ€å¸¸ç”¨çš„3ä¸ªå‘½ä»¤

```bash
# 1. æ‰¹é‡è®­ç»ƒ
F:\sofaWare\PYTHON\python.exe batch_train.py

# 2. é¢„æµ‹è‚¡ç¥¨
F:\sofaWare\PYTHON\python.exe predict_single.py

# 3. å¯åŠ¨API
F:\sofaWare\PYTHON\python.exe -m uvicorn src.api.main:app --host 0.0.0.0 --port 8000
```

---

**ç¥ä½ é‡åŒ–äº¤æ˜“é¡ºåˆ©ï¼** ğŸš€ğŸ“ˆ
